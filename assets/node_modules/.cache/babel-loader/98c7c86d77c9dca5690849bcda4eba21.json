{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Buzz/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Buzz/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/Buzz/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Buzz/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Buzz/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Buzz/Desktop/aws-bookstore-demo-app/assets/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";//ID: 1174261\n//Name: Buzz Kho\nimport React from\"react\";import\"../../common/styles/productRow.css\";import StarRating from\"../../common/starRating/StarRating\";import{API}from\"aws-amplify\";import AddToCart from\"../../common/AddToCart\";import FriendRecommendations from\"../../common/friendRecommendations/FriendRecommendations\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var PurchasedProductRow=/*#__PURE__*/function(_React$Component){_inherits(PurchasedProductRow,_React$Component);var _super=_createSuper(PurchasedProductRow);function PurchasedProductRow(props){var _this;_classCallCheck(this,PurchasedProductRow);_this=_super.call(this,props);_this.state={book:undefined};return _this;}_createClass(PurchasedProductRow,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var book;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.getBook(this.props.order);case 3:book=_context.sent;this.setState({book:book});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,this,[[0,7]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"getBook\",value:function getBook(order){return API.get(\"books\",\"/books/\".concat(order.bookId),null);}},{key:\"render\",value:function render(){if(!this.state.book){return/*#__PURE__*/_jsx(\"div\",{className:\"white-box\",children:/*#__PURE__*/_jsx(\"div\",{className:\"media\",children:/*#__PURE__*/_jsx(\"div\",{className:\"media-left media-middle\",children:/*#__PURE__*/_jsx(\"div\",{className:\"loader-no-margin\"})})})});}return/*#__PURE__*/_jsx(\"div\",{className:\"white-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"media\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"media-left media-middle\",children:/*#__PURE__*/_jsx(\"img\",{className:\"media-object product-thumb\",src:this.state.book.cover,alt:\"\".concat(this.state.book.name,\" covers\")})}),/*#__PURE__*/_jsxs(\"div\",{className:\"media-body\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"media-heading\",children:[this.state.book.name,/*#__PURE__*/_jsx(\"div\",{className:\"pull-right margin-1\",children:/*#__PURE__*/_jsx(\"small\",{children:\"\".concat(this.props.order.quantity,\" @ \").concat(this.state.book.price)})})]}),/*#__PURE__*/_jsx(\"small\",{children:this.state.book.category}),/*#__PURE__*/_jsx(FriendRecommendations,{bookId:this.props.order.bookId}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Rating\",/*#__PURE__*/_jsx(AddToCart,{bookId:this.state.book.id,price:this.state.book.price,variant:\"buyAgain\"})]}),/*#__PURE__*/_jsx(StarRating,{stars:this.state.book.rating})]})]})});}}]);return PurchasedProductRow;}(React.Component);export default PurchasedProductRow;","map":{"version":3,"sources":["C:/Users/Buzz/Desktop/aws-bookstore-demo-app/assets/src/modules/pastPurchases/PurchasedProductRow.tsx"],"names":["React","StarRating","API","AddToCart","FriendRecommendations","PurchasedProductRow","props","state","book","undefined","getBook","order","setState","alert","get","bookId","cover","name","quantity","price","category","id","rating","Component"],"mappings":"y+BAAA;AACA;AAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,oCAAP,CACA,MAAOC,CAAAA,UAAP,KAAuB,oCAAvB,CACA,OAASC,GAAT,KAAoB,aAApB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAOC,CAAAA,qBAAP,KAAkC,0DAAlC,C,wFAYA,UAAaC,CAAAA,mBAAb,sIACE,6BAAYC,KAAZ,CAA6C,qDAC3C,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,IAAI,CAAEC,SADK,CAAb,CAH2C,aAM5C,CAPH,2JASE,kLAEuB,MAAKC,OAAL,CAAa,KAAKJ,KAAL,CAAWK,KAAxB,CAFvB,QAEUH,IAFV,eAGI,KAAKI,QAAL,CAAc,CAAEJ,IAAI,CAAJA,IAAF,CAAd,EAHJ,+EAKIK,KAAK,aAAL,CALJ,oEATF,oIAkBE,iBAAQF,KAAR,CAAsB,CACpB,MAAOT,CAAAA,GAAG,CAACY,GAAJ,CAAQ,OAAR,kBAA2BH,KAAK,CAACI,MAAjC,EAA2C,IAA3C,CAAP,CACD,CApBH,sBAsBE,iBAAS,CACP,GAAI,CAAC,KAAKR,KAAL,CAAWC,IAAhB,CAAsB,CACpB,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,OAAf,uBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,kBAAf,EADF,EADF,EADF,EADF,CASD,CAED,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,OAAf,wBACE,YAAK,SAAS,CAAC,yBAAf,uBACE,YAAK,SAAS,CAAC,4BAAf,CAA4C,GAAG,CAAE,KAAKD,KAAL,CAAWC,IAAX,CAAgBQ,KAAjE,CAAwE,GAAG,WAAK,KAAKT,KAAL,CAAWC,IAAX,CAAgBS,IAArB,WAA3E,EADF,EADF,cAIE,aAAK,SAAS,CAAC,YAAf,wBACE,YAAI,SAAS,CAAC,eAAd,WAA+B,KAAKV,KAAL,CAAWC,IAAX,CAAgBS,IAA/C,cACE,YAAK,SAAS,CAAC,qBAAf,uBACE,iCAAW,KAAKX,KAAL,CAAWK,KAAX,CAAiBO,QAA5B,eAA0C,KAAKX,KAAL,CAAWC,IAAX,CAAgBW,KAA1D,GADF,EADF,GADF,cAME,uBAAQ,KAAKZ,KAAL,CAAWC,IAAX,CAAgBY,QAAxB,EANF,cAOE,KAAC,qBAAD,EAAuB,MAAM,CAAE,KAAKd,KAAL,CAAWK,KAAX,CAAiBI,MAAhD,EAPF,cAQE,6CAEE,KAAC,SAAD,EAAW,MAAM,CAAE,KAAKR,KAAL,CAAWC,IAAX,CAAgBa,EAAnC,CAAuC,KAAK,CAAE,KAAKd,KAAL,CAAWC,IAAX,CAAgBW,KAA9D,CAAqE,OAAO,CAAC,UAA7E,EAFF,GARF,cAYE,KAAC,UAAD,EAAY,KAAK,CAAE,KAAKZ,KAAL,CAAWC,IAAX,CAAgBc,MAAnC,EAZF,GAJF,GADF,EADF,CAuBD,CA1DH,iCAAyCtB,KAAK,CAACuB,SAA/C,EA6DA,cAAelB,CAAAA,mBAAf","sourcesContent":["//ID: 1174261\r\n//Name: Buzz Kho\r\n\r\nimport React from \"react\";\r\nimport \"../../common/styles/productRow.css\";\r\nimport StarRating from \"../../common/starRating/StarRating\";\r\nimport { API } from \"aws-amplify\";\r\nimport AddToCart from \"../../common/AddToCart\";\r\nimport FriendRecommendations from \"../../common/friendRecommendations/FriendRecommendations\";\r\nimport { Book } from \"../bestSellers/BestSellerProductRow\";\r\nimport { Order } from \"../cart/CartProductRow\";\r\n\r\ninterface PurchasedProductRowProps {\r\n  order: Order;\r\n}\r\n\r\ninterface PurchasedProductRowState {\r\n  book: Book | undefined;\r\n}\r\n\r\nexport class PurchasedProductRow extends React.Component<PurchasedProductRowProps, PurchasedProductRowState> {\r\n  constructor(props: PurchasedProductRowProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      book: undefined\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const book = await this.getBook(this.props.order);\r\n      this.setState({ book });\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n  }\r\n\r\n  getBook(order: Order) {\r\n    return API.get(\"books\", `/books/${order.bookId}`, null);\r\n  }\r\n\r\n  render() {\r\n    if (!this.state.book) {\r\n      return (\r\n        <div className=\"white-box\">\r\n          <div className=\"media\">\r\n            <div className=\"media-left media-middle\">\r\n              <div className=\"loader-no-margin\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"white-box\">\r\n        <div className=\"media\">\r\n          <div className=\"media-left media-middle\">\r\n            <img className=\"media-object product-thumb\" src={this.state.book.cover} alt={`${this.state.book.name} covers`} />\r\n          </div>\r\n          <div className=\"media-body\">\r\n            <h3 className=\"media-heading\">{this.state.book.name}\r\n              <div className=\"pull-right margin-1\">\r\n                <small>{`${this.props.order.quantity} @ ${this.state.book.price}`}</small>\r\n              </div>\r\n            </h3>\r\n            <small>{this.state.book.category}</small>\r\n            <FriendRecommendations bookId={this.props.order.bookId} />\r\n            <div>\r\n              Rating\r\n              <AddToCart bookId={this.state.book.id} price={this.state.book.price} variant=\"buyAgain\" />\r\n            </div>\r\n            <StarRating stars={this.state.book.rating} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PurchasedProductRow;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}